<UserControl x:Class="NET.Paint.View.Component.Base.Shortcuts" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:ma="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF" 
             xmlns:utility="clr-namespace:NET.Paint.Drawing.Model.Utility;assembly=NET.Paint.Drawing" 
             xmlns:service="clr-namespace:NET.Paint.Drawing.Service;assembly=NET.Paint.Drawing" 
             xmlns:converter="clr-namespace:NET.Paint.Converter" 
             mc:Ignorable="d" d:DesignHeight="30" d:DesignWidth="800" d:Background="White" 
             d:DataContext="{d:DesignInstance Type=service:XService, IsDesignTimeCreatable=True}">
    <UserControl.Resources>
        <ResourceDictionary Source="../../../Resources/ToolIcons.xaml"/>
    </UserControl.Resources>
    
    <DockPanel Margin="5,0">
        <StackPanel Orientation="Horizontal">
            <Button Height="25" Width="25" ToolTip="New project" Command="{Binding Command.CreateProject}">
                <Button.Content>
                    <ma:MaterialIcon Kind="FilePlusOutline"/>
                </Button.Content>
            </Button>
            <Button Height="25" Width="25" Margin="5,0" ToolTip="Open project" Command="{Binding Command.OpenProject}">
                <Button.Content>
                    <ma:MaterialIcon Kind="FolderFileOutline"/>
                </Button.Content>
            </Button>
            <Button Height="25" Width="25" ToolTip="Save project" Command="{Binding Command.SaveProject}">
                <Button.Content>
                    <ma:MaterialIcon Kind="ContentSaveAddOutline"/>
                </Button.Content>
            </Button>
            <Button Height="25" Width="25" Margin="5,0" ToolTip="Export image" Command="{Binding Command.ExportImage}">
                <Button.Content>
                    <ma:MaterialIcon Kind="FileExportOutline"/>
                </Button.Content>
            </Button>
            <Button Height="25" Width="25" ToolTip="Export image" IsEnabled="False">
                <Button.Content>
                    <ma:MaterialIcon Kind="PrinterOutline"/>
                </Button.Content>
            </Button>
            <Separator Margin="30,0,0,0"/>
            
            <Button Height="25" Width="25" ToolTip="Add new image" Click="AddImage" IsEnabled="{Binding Project, Converter={StaticResource NullToBoolConverter}}">
                <Button.Content>
                    <ma:MaterialIcon Kind="FileImagePlusOutline"/>
                </Button.Content>
            </Button>
            <Button x:Name="AddLayerBtn" Margin="5,0" Height="25" Width="25" ToolTip="Add new layer" Click="OpenLayerQuickSelect" IsEnabled="{Binding ActiveImage, Converter={StaticResource NullToBoolConverter}}">
                <Button.Content>
                    <ma:MaterialIcon Kind="LayersPlus"/>
                </Button.Content>
            </Button>
            <Separator Margin="25,0,0,0"/>

            <Button Height="25" Width="25" ToolTip="Undo last" Command="{Binding Command.Undo}">
                <Button.Content>
                    <ma:MaterialIcon Kind="UndoVariant"/>
                </Button.Content>
            </Button>
            <Button Margin="5,0" Height="25" Width="25" ToolTip="Redo last" Command="{Binding Command.Redo}">
                <Button.Content>
                    <ma:MaterialIcon Kind="RedoVariant"/>
                </Button.Content>
            </Button>
            <Separator Margin="25,0,0,0"/>

            <Button Height="25" Width="25" ToolTip="Cut selection" Command="{Binding Command.Cut}">
                <Button.Content>
                    <ma:MaterialIcon Kind="ContentCut"/>
                </Button.Content>
            </Button>
            <Button Margin="5,0" Height="25" Width="25" ToolTip="Copy selection" Command="{Binding Command.Copy}"> 
                <Button.Content>
                    <ma:MaterialIcon Kind="ContentCopy"/>
                </Button.Content>
            </Button>
            <Button Height="25" Width="25" ToolTip="Paste from clipboard" Command="{Binding Command.Paste}">
                <Button.Content>
                    <ma:MaterialIcon Kind="ContentPaste"/>
                </Button.Content>
            </Button>
        </StackPanel>
        <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
            <ToggleButton Height="25" Width="25" ToolTip="Toggle toolbox" IsChecked="{Binding Preferences.ToolboxVisible}">
                <ToggleButton.Content>
                    <ma:MaterialIcon Kind="ToolboxOutline"/>
                </ToggleButton.Content>
            </ToggleButton>
            <ToggleButton Margin="5,0" Height="25" Width="25" ToolTip="Toggle overview" IsChecked="{Binding Preferences.OverviewVisible}">
                <ToggleButton.Content>
                    <ma:MaterialIcon Kind="ViewDashboardOutline"/>
                </ToggleButton.Content>
            </ToggleButton>
            <ToggleButton Height="25" Width="25" ToolTip="Toggle preferences" IsChecked="{Binding Preferences.PreferencesVisible}">
                <ToggleButton.Content>
                    <ma:MaterialIcon Kind="SettingsOutline"/>
                </ToggleButton.Content>
            </ToggleButton>

            <Popup x:Name="LayerQuickSelect" PlacementTarget="{Binding ElementName=AddLayerBtn}" Placement="Bottom" StaysOpen="False" HorizontalOffset="35" VerticalOffset="5">
                <Border Background="White" BorderBrush="Black" BorderThickness="1" Padding="5" MouseLeave="CloseLayerQuickSelect">
                    <StackPanel Orientation="Horizontal" Height="25">
                        <Button Width="25" ToolTip="New vector layer" ContentTemplate="{StaticResource VectorLayerToolIcon}" Click="AddVectorLayer"/>
                        <Button Margin="5,0" Width="25" ToolTip="New hybrid layer" ContentTemplate="{StaticResource HybridLayerToolIcon}" Click="AddHybridLayer"/>
                        <Button Width="25" ToolTip="New raster layer" ContentTemplate="{StaticResource RasterLayerToolIcon}" Click="AddRasterLayer"/>
                    </StackPanel>
                </Border>
            </Popup>
        </StackPanel>
    </DockPanel>
</UserControl>
