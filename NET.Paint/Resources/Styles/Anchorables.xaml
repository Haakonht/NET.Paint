<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:icons="clr-namespace:Material.Icons.WPF;assembly=Material.Icons.WPF"
                    xmlns:converter="clr-namespace:NET.Paint.Converter"
                    xmlns:avalonDock="clr-namespace:AvalonDock;assembly=AvalonDock"
	                xmlns:avalonDockControls="clr-namespace:AvalonDock.Controls;assembly=AvalonDock"
	                xmlns:avalonDockConverters="clr-namespace:AvalonDock.Converters;assembly=AvalonDock"
	                xmlns:avalonDockLayout="clr-namespace:AvalonDock.Layout;assembly=AvalonDock"
	                xmlns:avalonDockProperties="clr-namespace:AvalonDock.Properties;assembly=AvalonDock"
	                xmlns:shell="clr-namespace:Microsoft.Windows.Shell;assembly=AvalonDock">
    <converter:AnchorableTitleVisibleConverter x:Key="AnchorableTitleVisibleConverter"/>

    <Style x:Key="AnchorablePaneTitleStyle" TargetType="avalonDockControls:AnchorablePaneTitle">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}" Visibility="{Binding Path=., FallbackValue=Visible, TargetNullValue=Visible, Converter={StaticResource AnchorableTitleVisibleConverter}}"> 
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                      DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                                <ContentPresenter Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplate="{Binding Model.Root.Manager.AnchorableTitleTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplateSelector="{Binding Model.Root.Manager.AnchorableTitleTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}" />
                            </avalonDockControls:DropDownControlArea>

                            <avalonDockControls:DropDownButton Style="{DynamicResource {x:Static ToolBar.ToggleButtonStyleKey}}"
                                    Focusable="False"
                                    Grid.Column="1"
                                    DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                    DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}"
                                    Visibility="Collapsed">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinMenu.png" />
                                </Border>
                            </avalonDockControls:DropDownButton>

                            <Button x:Name="PART_AutoHidePin"
                                      Grid.Column="2"
                                      Focusable="False"
                                      Style="{DynamicResource {x:Static ToolBar.ButtonStyleKey}}"
                                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                                      Command="{Binding Path=LayoutItem.AutoHideCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                      ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_BtnAutoHide_Hint}">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinAutoHide.png" />
                                </Border>
                            </Button>

                            <Button x:Name="PART_HidePin"
                                      Grid.Column="3"
                                      Focusable="False"
                                      Style="{DynamicResource {x:Static ToolBar.ButtonStyleKey}}"
                                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                                      Command="{Binding Path=LayoutItem.HideCommand, RelativeSource={RelativeSource TemplatedParent}}">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinClose.png" />
                                </Border>
                            </Button>


                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding Model.IsAutoHidden, RelativeSource={RelativeSource Mode=Self}}"
                         Value="True">
                            <Setter Property="LayoutTransform"
                      TargetName="PART_AutoHidePin">
                                <Setter.Value>
                                    <RotateTransform Angle="90" />
                                </Setter.Value>
                            </Setter>
                            <Setter Property="ToolTip"
                      TargetName="PART_AutoHidePin"
                      Value="{x:Static avalonDockProperties:Resources.Window_Restore}" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Model.CanClose, RelativeSource={RelativeSource Mode=Self}}"
                         Value="True">
                            <Setter Property="Command"
                      TargetName="PART_HidePin"
                      Value="{Binding Path=LayoutItem.CloseCommand, RelativeSource={RelativeSource TemplatedParent}}" />
                            <Setter Property="ToolTip"
                      TargetName="PART_HidePin"
                      Value="{x:Static avalonDockProperties:Resources.Document_Close}" />

                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="AnchorablePaneDialogStyle" TargetType="avalonDockControls:AnchorablePaneTitle">
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate>
                    <Border Background="{TemplateBinding Background}"
                  BorderBrush="{TemplateBinding BorderBrush}"
                  BorderThickness="{TemplateBinding BorderThickness}" Visibility="{Binding Path=., FallbackValue=Visible, TargetNullValue=Visible, Converter={StaticResource AnchorableTitleVisibleConverter}}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                            <avalonDockControls:DropDownControlArea DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                                      DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}">
                                <ContentPresenter Margin="4,0,0,0" Content="{Binding Model, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplate="{Binding Model.Root.Manager.AnchorableTitleTemplate, RelativeSource={RelativeSource TemplatedParent}}"
                                  ContentTemplateSelector="{Binding Model.Root.Manager.AnchorableTitleTemplateSelector, RelativeSource={RelativeSource TemplatedParent}}" />
                            </avalonDockControls:DropDownControlArea>

                            <avalonDockControls:DropDownButton Style="{DynamicResource {x:Static ToolBar.ToggleButtonStyleKey}}"
                                    Focusable="False"
                                    Grid.Column="1"
                                    DropDownContextMenu="{Binding Model.Root.Manager.AnchorableContextMenu, RelativeSource={RelativeSource TemplatedParent}}"
                                    DropDownContextMenuDataContext="{Binding Path=LayoutItem, RelativeSource={RelativeSource TemplatedParent}}"
                                    Visibility="Collapsed">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinMenu.png" />
                                </Border>
                            </avalonDockControls:DropDownButton>

                            <Button x:Name="PART_AutoHidePin"
                                      Grid.Column="2"
                                      Focusable="False"
                                      Style="{DynamicResource {x:Static ToolBar.ButtonStyleKey}}"
                                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                                      Command="{Binding Path=LayoutItem.AutoHideCommand, RelativeSource={RelativeSource TemplatedParent}}"
                                      ToolTip="{x:Static avalonDockProperties:Resources.Anchorable_BtnAutoHide_Hint}">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinAutoHide.png" />
                                </Border>
                            </Button>

                            <Button x:Name="PART_HidePin"
                                      Grid.Column="3"
                                      Focusable="False"
                                      Style="{DynamicResource {x:Static ToolBar.ButtonStyleKey}}"
                                      Visibility="{Binding Path=IsEnabled, RelativeSource={RelativeSource Self}, Mode=OneWay, Converter={StaticResource BoolToVisibilityConverter}}"
                                      Command="{Binding Path=LayoutItem.HideCommand, RelativeSource={RelativeSource TemplatedParent}}">
                                <Border Background="Transparent">
                                    <Image Source="/AvalonDock;component/Themes/Generic/Images/PinClose.png" />
                                </Border>
                            </Button>


                        </Grid>
                    </Border>
                    <ControlTemplate.Triggers>
                        <DataTrigger Binding="{Binding Model.IsAutoHidden, RelativeSource={RelativeSource Mode=Self}}"
                         Value="True">
                            <Setter Property="LayoutTransform"
                      TargetName="PART_AutoHidePin">
                                <Setter.Value>
                                    <RotateTransform Angle="90" />
                                </Setter.Value>
                            </Setter>
                            <Setter Property="ToolTip"
                      TargetName="PART_AutoHidePin"
                      Value="{x:Static avalonDockProperties:Resources.Window_Restore}" />
                        </DataTrigger>
                        <DataTrigger Binding="{Binding Model.CanClose, RelativeSource={RelativeSource Mode=Self}}"
                         Value="True">
                            <Setter Property="Command"
                      TargetName="PART_HidePin"
                      Value="{Binding Path=LayoutItem.CloseCommand, RelativeSource={RelativeSource TemplatedParent}}" />
                            <Setter Property="ToolTip"
                      TargetName="PART_HidePin"
                      Value="{x:Static avalonDockProperties:Resources.Document_Close}" />

                        </DataTrigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>